{"version":3,"file":"main-FlQh5Ww-.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК ---\n\n  // Иконки\n  if (typeof lucide !== 'undefined') lucide.createIcons();\n\n  // Плавный скролл (с проверкой на наличие библиотеки)\n  let lenis;\n  if (typeof Lenis !== 'undefined') {\n      lenis = new Lenis({\n          duration: 1.2,\n          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n          smooth: true\n      });\n      function raf(time) {\n          lenis.raf(time);\n          requestAnimationFrame(raf);\n      }\n      requestAnimationFrame(raf);\n  }\n\n  // GSAP\n  if (typeof gsap !== 'undefined') {\n      gsap.registerPlugin(ScrollTrigger);\n  }\n\n  // --- 2. МОБИЛЬНОЕ МЕНЮ ---\n\n  const burger = document.querySelector('.header__burger');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-link');\n  let isMenuOpen = false;\n\n  const toggleMenu = () => {\n      isMenuOpen = !isMenuOpen;\n      burger.classList.toggle('is-active');\n      mobileMenu.classList.toggle('is-open');\n\n      if (isMenuOpen) {\n          if(lenis) lenis.stop();\n          document.body.style.overflow = 'hidden';\n\n          gsap.to(mobileLinks, {\n              y: 0, opacity: 1, duration: 0.5, stagger: 0.1, delay: 0.3, ease: 'power2.out'\n          });\n      } else {\n          if(lenis) lenis.start();\n          document.body.style.overflow = '';\n\n          gsap.to(mobileLinks, {\n              y: 20, opacity: 0, duration: 0.3\n          });\n      }\n  };\n\n  if(burger) burger.addEventListener('click', toggleMenu);\n  mobileLinks.forEach(link => link.addEventListener('click', () => { if(isMenuOpen) toggleMenu(); }));\n\n\n  // --- 3. АНИМАЦИИ (SCROLL TRIGGER) ---\n\n  // Hero Анимация\n  const tl = gsap.timeline();\n  tl.from('.hero__badge', { y: 20, opacity: 0, duration: 0.8, ease: 'power3.out' })\n    .from('.hero__title', { y: 50, opacity: 0, duration: 1, ease: 'power3.out' }, '-=0.6')\n    .from('.hero__desc', { y: 30, opacity: 0, duration: 0.8, ease: 'power3.out' }, '-=0.6')\n    .from('.hero__btns', { y: 20, opacity: 0, duration: 0.8, ease: 'power3.out' }, '-=0.6')\n    .from('.hero__visual', { scale: 0.9, opacity: 0, duration: 1.2, ease: 'expo.out' }, '-=0.8');\n\n  // Секции\n  document.querySelectorAll('.section').forEach(section => {\n      gsap.fromTo(section.children,\n          { y: 50, opacity: 0 },\n          {\n              y: 0, opacity: 1, duration: 1, stagger: 0.2, ease: 'power3.out',\n              scrollTrigger: { trigger: section, start: 'top 85%' }\n          }\n      );\n  });\n\n\n  // --- 4. КОНТАКТНАЯ ФОРМА (ВАЛИДАЦИЯ + КАПЧА) ---\n\n  const form = document.getElementById('contactForm');\n  if (form) {\n      // Генерация капчи\n      const num1 = Math.floor(Math.random() * 10) + 1;\n      const num2 = Math.floor(Math.random() * 10) + 1;\n      const captchaResult = num1 + num2;\n      const captchaLabel = document.getElementById('captchaLabel');\n      const captchaInput = document.getElementById('captcha');\n\n      captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n      // Валидация телефона (только цифры и +)\n      const phoneInput = document.getElementById('phone');\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9+ ]/g, '');\n      });\n\n      // Отправка формы\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n          let isValid = true;\n\n          // Сброс ошибок\n          form.querySelectorAll('input').forEach(inp => inp.classList.remove('error'));\n\n          // Проверки\n          const name = document.getElementById('name');\n          const email = document.getElementById('email');\n          const privacy = document.getElementById('privacy');\n\n          // 1. Имя\n          if (!name.value.trim()) {\n              name.classList.add('error');\n              isValid = false;\n          }\n          // 2. Email (простой regex)\n          if (!email.value.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) {\n              email.classList.add('error');\n              isValid = false;\n          }\n          // 3. Телефон\n          if (phoneInput.value.length < 5) {\n              phoneInput.classList.add('error');\n              isValid = false;\n          }\n          // 4. Капча\n          if (parseInt(captchaInput.value) !== captchaResult) {\n              captchaInput.classList.add('error');\n              isValid = false;\n          }\n          // 5. Чекбокс\n          if (!privacy.checked) {\n              // Можно добавить стиль ошибки для чекбокса, но браузер сам подскажет\n              isValid = false;\n              alert('Пожалуйста, подтвердите согласие с политикой.');\n          }\n\n          if (isValid) {\n              // Имитация AJAX\n              const btn = form.querySelector('.btn--submit');\n              btn.classList.add('is-loading');\n\n              setTimeout(() => {\n                  btn.classList.remove('is-loading');\n                  document.getElementById('formSuccess').classList.add('is-visible');\n                  form.reset();\n                  // Сброс капчи для повторной отправки (опционально)\n              }, 1500);\n          }\n      });\n  }\n\n  // --- 5. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const cookieAccept = document.getElementById('cookieAccept');\n\n  if (!localStorage.getItem('pentaCookieConsent')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('is-active');\n      }, 2000);\n  }\n\n  cookieAccept.addEventListener('click', () => {\n      localStorage.setItem('pentaCookieConsent', 'true');\n      cookiePopup.classList.remove('is-active');\n  });\n\n  console.log('Penta-Fluxx System Fully Operational');\n});"],"names":["lenis","raf","time","t","burger","mobileMenu","mobileLinks","isMenuOpen","toggleMenu","link","section","form","num1","num2","captchaResult","captchaLabel","captchaInput","phoneInput","e","isValid","inp","name","email","privacy","btn","cookiePopup","cookieAccept"],"mappings":"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"}